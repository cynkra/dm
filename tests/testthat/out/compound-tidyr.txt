> unite_weather_dm <- nyc_comp() %>% dm_zoom_to(weather) %>% mutate(chr_col = "airport") %>%
+   unite("new_col", origin, chr_col) %>% dm_update_zoomed()
> unite_weather_dm %>% get_all_keys("flights")
  carrier    origin   tailnum 
"carrier"  "origin" "tailnum" 

> unite_weather_dm %>% get_all_keys("weather")
named character(0)

> unite_flights_dm <- nyc_comp() %>% dm_zoom_to(flights) %>% mutate(chr_col = "airport") %>%
+   unite("new_col", origin, chr_col) %>% dm_update_zoomed()
> unite_flights_dm %>% get_all_keys("flights")
  carrier   tailnum 
"carrier" "tailnum" 

> unite_flights_dm %>% get_all_keys("weather")
     origin   time_hour 
   "origin" "time_hour" 

> nyc_comp() %>% dm_zoom_to(weather) %>% separate(origin, c("o1", "o2"), sep = "^..",
+ remove = TRUE) %>% dm_update_zoomed()
-- Metadata --------------------------------------------------------------------
Tables: `airlines`, `airports`, `flights`, `planes`, `weather`
Columns: 54
Primary keys: 3
Foreign keys: 3

> nyc_comp() %>% dm_zoom_to(weather) %>% separate(origin, c("o1", "o2"), sep = "^..",
+ remove = FALSE) %>% dm_update_zoomed()
-- Metadata --------------------------------------------------------------------
Tables: `airlines`, `airports`, `flights`, `planes`, `weather`
Columns: 55
Primary keys: 4
Foreign keys: 4

