<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Decompose a table into two linked tables — decompose_table • dm</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Decompose a table into two linked tables — decompose_table" />
<meta property="og:description" content="Perform table surgery by extracting a 'parent table' from a table, linking original and new table by a key and returning both.
decompose_table() accepts a data frame, a name for an 'ID column' that will be newly created, and the names
of the columns which will be extracted into the new data frame.
It creates the 'parent table', consisting of the columns specified in the ellipsis and the new 'ID column'. Then it removes the
said columns from the now called 'child table' (the original table) and also adds the 'ID column' here appropriately." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dm</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.3.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/dm.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dm-class-and-basic-operations.html">Class 'dm' and basic operations</a>
    </li>
    <li>
      <a href="../articles/dm-introduction-relational-data-models.html">Introduction to Relational Data Models</a>
    </li>
    <li>
      <a href="../articles/dm-joining.html">Joining in Relational Data Models</a>
    </li>
    <li>
      <a href="../articles/dm-filtering.html">Filtering in Relational Data Models</a>
    </li>
    <li>
      <a href="../articles/dm-visualization.html">Visualizing 'dm' objects</a>
    </li>
    <li>
      <a href="../articles/dm-low-level.html">Low level operations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/krlmlr/dm">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Decompose a table into two linked tables</h1>
    
    <div class="hidden name"><code>decompose_table.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform table surgery by extracting a 'parent table' from a table, linking original and new table by a key and returning both.</p>
<p><code>decompose_table()</code> accepts a data frame, a name for an 'ID column' that will be newly created, and the names
of the columns which will be extracted into the new data frame.</p>
<p>It creates the 'parent table', consisting of the columns specified in the ellipsis and the new 'ID column'. Then it removes the
said columns from the now called 'child table' (the original table) and also adds the 'ID column' here appropriately.</p>
    </div>

    <pre class="usage"><span class='fu'>decompose_table</span>(<span class='no'>.data</span>, <span class='no'>new_id_column</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>Data frame from which columns <code>...</code> are to be extracted.</p></td>
    </tr>
    <tr>
      <th>new_id_column</th>
      <td><p>Name of the identifier column (primary key column) for the parent table. A column of this name is also added in 'child table'.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>The columns to be extracted from the <code>.data</code>.</p>
<p>One or more unquoted expressions separated by commas. You can treat variable names like they are positions, so you
can use expressions like x:y to select ranges of variables.</p>
<p>The arguments in ... are automatically quoted and evaluated in a context where column names represent column positions. They also support
unquoting and splicing. See vignette("programming") for an introduction to these concepts.</p>
<p>See select helpers for more details and examples about tidyselect helpers such as starts_with(), everything(), ...</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other table surgery functions: <code><a href='reunite_parent_child.html'>reunite_parent_child</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>magrittr</span>)

<span class='no'>decomposed_table</span> <span class='kw'>&lt;-</span> <span class='fu'>decompose_table</span>(<span class='no'>mtcars</span>, <span class='no'>new_id</span>, <span class='no'>am</span>, <span class='no'>gear</span>, <span class='no'>carb</span>)
<span class='no'>decomposed_table</span>$<span class='no'>child_table</span></div><div class='output co'>#&gt;     mpg cyl  disp  hp drat    wt  qsec vs new_id
#&gt; 1  21.0   6 160.0 110 3.90 2.620 16.46  0      9
#&gt; 2  21.0   6 160.0 110 3.90 2.875 17.02  0      9
#&gt; 3  22.8   4 108.0  93 3.85 2.320 18.61  1      7
#&gt; 4  21.4   6 258.0 110 3.08 3.215 19.44  1      1
#&gt; 5  18.7   8 360.0 175 3.15 3.440 17.02  0      2
#&gt; 6  18.1   6 225.0 105 2.76 3.460 20.22  1      1
#&gt; 7  14.3   8 360.0 245 3.21 3.570 15.84  0      4
#&gt; 8  24.4   4 146.7  62 3.69 3.190 20.00  1      5
#&gt; 9  22.8   4 140.8  95 3.92 3.150 22.90  1      5
#&gt; 10 19.2   6 167.6 123 3.92 3.440 18.30  1      6
#&gt; 11 17.8   6 167.6 123 3.92 3.440 18.90  1      6
#&gt; 12 16.4   8 275.8 180 3.07 4.070 17.40  0      3
#&gt; 13 17.3   8 275.8 180 3.07 3.730 17.60  0      3
#&gt; 14 15.2   8 275.8 180 3.07 3.780 18.00  0      3
#&gt; 15 10.4   8 472.0 205 2.93 5.250 17.98  0      4
#&gt; 16 10.4   8 460.0 215 3.00 5.424 17.82  0      4
#&gt; 17 14.7   8 440.0 230 3.23 5.345 17.42  0      4
#&gt; 18 32.4   4  78.7  66 4.08 2.200 19.47  1      7
#&gt; 19 30.4   4  75.7  52 4.93 1.615 18.52  1      8
#&gt; 20 33.9   4  71.1  65 4.22 1.835 19.90  1      7
#&gt; 21 21.5   4 120.1  97 3.70 2.465 20.01  1      1
#&gt; 22 15.5   8 318.0 150 2.76 3.520 16.87  0      2
#&gt; 23 15.2   8 304.0 150 3.15 3.435 17.30  0      2
#&gt; 24 13.3   8 350.0 245 3.73 3.840 15.41  0      4
#&gt; 25 19.2   8 400.0 175 3.08 3.845 17.05  0      2
#&gt; 26 27.3   4  79.0  66 4.08 1.935 18.90  1      7
#&gt; 27 26.0   4 120.3  91 4.43 2.140 16.70  0     10
#&gt; 28 30.4   4  95.1 113 3.77 1.513 16.90  1     10
#&gt; 29 15.8   8 351.0 264 4.22 3.170 14.50  0     11
#&gt; 30 19.7   6 145.0 175 3.62 2.770 15.50  0     12
#&gt; 31 15.0   8 301.0 335 3.54 3.570 14.60  0     13
#&gt; 32 21.4   4 121.0 109 4.11 2.780 18.60  1      8</div><div class='input'><span class='no'>decomposed_table</span>$<span class='no'>parent_table</span></div><div class='output co'>#&gt;    new_id am gear carb
#&gt; 1       1  0    3    1
#&gt; 2       2  0    3    2
#&gt; 3       3  0    3    3
#&gt; 4       4  0    3    4
#&gt; 5       5  0    4    2
#&gt; 6       6  0    4    4
#&gt; 7       7  1    4    1
#&gt; 8       8  1    4    2
#&gt; 9       9  1    4    4
#&gt; 10     10  1    5    2
#&gt; 11     11  1    5    4
#&gt; 12     12  1    5    6
#&gt; 13     13  1    5    8</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tobias Schieferdecker, <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='https://www.energie360.ch'><img src="https://krlmlr.github.io/dm/reference/figures/energie-72.png" height="16"/></a>, <a href='https://www.cynkra.com'><img src="https://krlmlr.github.io/dm/reference/figures/cynkra-72.png" height="16"/></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


