<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Resolve column name ambiguities — dm_disambiguate_cols • dm</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Resolve column name ambiguities — dm_disambiguate_cols"><meta name="description" content="This function ensures that all columns in a dm have unique names."><meta property="og:description" content="This function ensures that all columns in a dm have unique names."><meta property="og:image" content="https://dm.cynkra.com/logo.png"><meta name="robots" content="noindex"><script defer data-domain="dm.cynkra.com" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://cynkra.com" class="external-link logo-cynkra"><img src="https://cynkra.com/assets/img/logo-cynkra-square.svg" alt="cynkra" width="100" height="100"><div class="sr-only">cynkra</div></a>
    <a class="navbar-brand me-2" href="../index.html">dm</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.11.9017</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
        <!-- empty ul needed otherwise everything on the left -->
        <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../articles/dm.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/howto-dm-theory.html">Introduction to relational data models</a></li>
    <li><a class="dropdown-item" href="../articles/howto-dm-df.html">Create a dm object from data frames</a></li>
    <li><a class="dropdown-item" href="../articles/howto-dm-db.html">Create a dm object from a database</a></li>
    <li><a class="dropdown-item" href="../articles/howto-dm-copy.html">Copy data to and from a database</a></li>
    <li><a class="dropdown-item" href="../articles/howto-dm-rows.html">Insert, update, or remove rows in a database</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/cheatsheet.html">Cheatsheet</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-technical-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Technical articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-technical-articles"><li><a class="dropdown-item" href="../articles/tech-dm-draw.html">Visualizing dm objects</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-keyed.html">Manipulating individual tables</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-join.html">Joining in relational data models</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-filter.html">Filtering in relational data models</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-zoom.html">Zooming and manipulating tables</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-low-level.html">Model verification - keys, constraints and normalization</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-class.html">Class 'dm' and basic operations</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-naming.html">Function naming logic</a></li>
    <li><a class="dropdown-item" href="../articles/tech-dm-cdm.html">Migration guide: 'cdm' -&gt; 'dm'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
            <li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cynkra/dm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
        </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Resolve column name ambiguities</h1>
      <small class="dont-index">Source: <a href="https://github.com/cynkra/dm/blob/main/R/disambiguate.R" class="external-link"><code>R/disambiguate.R</code></a></small>
      <div class="d-none name"><code>dm_disambiguate_cols.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function ensures that all columns in a <code>dm</code> have unique names.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dm_disambiguate_cols</span><span class="op">(</span></span>
<span>  <span class="va">dm</span>,</span>
<span>  .sep <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"suffix"</span>, <span class="st">"prefix"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dm">dm<a class="anchor" aria-label="anchor" href="#arg-dm"></a></dt>
<dd><p>A <code>dm</code> object.</p></dd>


<dt id="arg--sep">.sep<a class="anchor" aria-label="anchor" href="#arg--sep"></a></dt>
<dd><p>The character variable that separates the names of the table and the names of the ambiguous columns.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg--quiet">.quiet<a class="anchor" aria-label="anchor" href="#arg--quiet"></a></dt>
<dd><p>Boolean.
By default, this function lists the renamed columns in a message, pass <code>TRUE</code> to suppress this message.</p></dd>


<dt id="arg--position">.position<a class="anchor" aria-label="anchor" href="#arg--position"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
By default, table names are appended to the column names to resolve conflicts.
Prepending table names was the default for versions before 1.0.0,
use <code>"prefix"</code> to achieve this behavior.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>dm</code> whose column names are unambiguous.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function first checks if there are any column names that are not unique.
If there are, those columns will be assigned new, unique, names by prefixing their existing name
with the name of their table and a separator.
Columns that act as primary or foreign keys will not be renamed
because only the foreign key column will remain when two tables are joined,
making that column name "unique" as well.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="dm_nycflights13.html">dm_nycflights13</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dm_disambiguate_cols</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Renaming ambiguous columns: %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(airlines, carrier.airlines = carrier) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(airlines, name.airlines = name) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(airports, name.airports = name) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, year.flights = year) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, month.flights = month) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, day.flights = day) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, carrier.flights = carrier) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, tailnum.flights = tailnum) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, origin.flights = origin) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, hour.flights = hour) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(flights, time_hour.flights = time_hour) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(planes, tailnum.planes = tailnum) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(planes, year.planes = year) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, origin.weather = origin) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, year.weather = year) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, month.weather = month) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, day.weather = day) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, hour.weather = hour) %&gt;%</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   dm_rename(weather, time_hour.weather = time_hour)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #FFAFFF;">──</span> <span style="color: #FFAFFF;">Metadata</span> <span style="color: #FFAFFF;">────────────────────────────────────────────────────────────────────</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tables: `airlines`, `airports`, `flights`, `planes`, `weather`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: 53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Primary keys: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Foreign keys: 4</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://cynkra.com/about/#tobias" class="external-link">Tobias Schieferdecker</a>, <a href="http://krlmlr.info" class="external-link">Kirill Müller</a>, Darko Bergant, <a href="https://www.energie360.ch/de/" class="external-link"><img src="https://cynkra.github.io/dm/reference/figures/energie-72.png" height="16" alt="energie360° AG"></a>, <a href="https://www.cynkra.com" class="external-link"><img src="https://cynkra.github.io/dm/reference/figures/cynkra-72.png" height="16" alt="cynkra GmbH"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>
Sponsored by <a href="https://cynkra.com" class="external-link">cynkra</a> <span class="cynkra-square"></span>
</p>
</div>

    </footer></div>





  </body></html>

